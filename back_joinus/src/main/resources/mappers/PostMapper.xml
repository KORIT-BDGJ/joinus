<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.portfolio.joinus.joinus.repository.PostRepository">

	<resultMap type="com.portfolio.joinus.joinus.entity.Post" id="PostMap">
		<id property="postId" column="post_id"/>
		<result property="writerId" column="write_id"/>
		<result property="title" column="title"/>
		<result property="sportsId" column="sports_id"/>
		<result property="levelId" column="level_id"/>
		<result property="stateId" column="state_id"/>
		<result property="regionId" column="region_id"/>
		<result property="deadLine" column="deadline"/>
		<result property="recruitsCount" column="recruits_count"/>
		<result property="genderId" column="gender_id"/>
		<result property="text" column="text"/>
		<association property="user"></association>
		<association property="sports"></association>
		<association property="level"></association>
		<association property="state"></association>
		<association property="region"></association>
		<association property="gender"></association>
	</resultMap>
	
	<resultMap type="com.portfolio.joinus.joinus.entity.User" id="UserMap">
		<id property="userId" column="user_id"/>
		<result property="email" column="email"/>
		<result property="password" column="password"/>
		<result property="name" column="name"/>
		<result property="provider" column="provier"/>
	</resultMap>
	<resultMap type="com.portfolio.joinus.joinus.entity.Sports" id="SportsMap">
		<id property="sportsId" column="sports_id"/>
		<result property="sportsName" column="sports_name"/>
	</resultMap>
	<resultMap type="com.portfolio.joinus.joinus.entity.Level" id="LevelMap">
		<id property="levelId" column="level_id"/>
		<result property="levelName" column="level_name"/>
	</resultMap>
	<resultMap type="com.portfolio.joinus.joinus.entity.State" id="StateMap">
		<id property="stateId" column="state_id"/>
		<result property="stateName" column="state_name"/>
	</resultMap>
	<resultMap type="com.portfolio.joinus.joinus.entity.Region" id="RegionMap">
		<id property="regionId" column="region_id"/>
		<result property="regionName" column="region_name"/>
	</resultMap>
	<resultMap type="com.portfolio.joinus.joinus.entity.Gender" id="GenderMap">
		<id property="genderId" column="gender_id"/>
		<result property="genderName" column="gender_name"/>
	</resultMap>
	
	<insert id="getPostListAll">
		INSERT INTO post_tb (
			writer_id, 
			title, 
			sports_id, 
			level_id, 
			state_id, 
			region_id, 
			deadline, 
			recruits_count, 
			gender_id, 
			text
		)
    	VALUES (
	        #{writerId},
	        #{title},
	        #{sportsId},
	        #{levelId},
	        #{stateId},
	        #{regionId},
	        #{deadLine},
	        #{recruitsCount},
	        #{genderId},
	        #{text}
    	)
	</insert>

</mapper>